{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { read, utils } from 'xlsx';\nimport { AgGridVue } from \"ag-grid-vue\";\nexport default {\n  created() {\n    if (!(this.$store.state.user.user.userInfo.orgChart == 'superUser' || this.$store.state.user.user.userInfo.orgChart == 'staff')) {\n      this.$router.push('/');\n    }\n  },\n  components: {\n    'ag-grid': AgGridVue\n  },\n  data() {\n    return {\n      columnDefs: [{\n        headerName: \"\",\n        field: \"userNameDisplay\"\n      }, {\n        headerName: \"\",\n        field: \"id\"\n      }],\n      rawData: [],\n      file: undefined,\n      fetchColumnDefs: []\n    };\n  },\n  methods: {\n    render() {},\n    async handleFile(e) {\n      let file = await e.arrayBuffer();\n      const wb = read(file);\n      const data = utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]]);\n      this.rawData = data;\n      this.translateRawData();\n    },\n    translateRawData() {\n      // let rawData =[]\n      let columnDefs = [];\n      let headerName = [];\n      this.rawData.map(e => {\n        console.log(Object.keys(e));\n        headerName = [...new Set(headerName.concat(Object.keys(e)))];\n        // concat(result, Object.keys(e))\n        console.log(headerName);\n      });\n      headerName.map(field => {\n        columnDefs.push({\n          field: field,\n          headerName: field\n        });\n      });\n      this.fetchColumnDefs = columnDefs;\n    }\n  },\n  computed: {\n    columndefsclone() {\n      return [{\n        headerName: \"Make\",\n        field: \"make\"\n      }, {\n        headerName: \"Model\",\n        field: \"model\"\n      }, {\n        headerName: \"Price\",\n        field: \"price\"\n      }];\n    },\n    rawDataClone() {\n      return [{\n        make: \"Toyota\",\n        model: \"Celica\",\n        price: 35000\n      }, {\n        make: \"Ford\",\n        model: \"Mondeo\",\n        price: 32000\n      }, {\n        make: \"Porsche\",\n        model: \"Boxster\",\n        price: 72000\n      }];\n    }\n    // fetchColumnDef() {\n    //     // let columnDefs = []\n    //     this.rawData.map(raw => {\n    //         Object.keys(raw)\n    //     })\n    //     return []\n    // }\n  }\n};","map":{"version":3,"mappings":";AAmBA;AACA;AACA;EACAA;IACA;MACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC,aACA;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC,UAEA;IACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;QACAC;QACAR;QACA;QACAQ;MACA;MACAR;QACAD;UACAE;UACAD;QACA;MACA;MACA;IACA;EACA;EACAS;IACAC;MACA,QACA;QAAAV;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,GACA;QAAAD;QAAAC;MAAA,EACA;IACA;IACAU;MACA,QACA;QAAAC;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,GACA;QAAAF;QAAAC;QAAAC;MAAA,EACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EAEA;AACA","names":["created","components","data","columnDefs","headerName","field","rawData","file","fetchColumnDefs","methods","render","translateRawData","console","computed","columndefsclone","rawDataClone","make","model","price"],"sourceRoot":"src/components/document","sources":["ConfigDocument.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <p>asdfsadf</p>\r\n        <v-text-field v-model=\"columnDefs[0].headerName\" type=\"text\" placeholder=\"name display\"></v-text-field>\r\n        <v-text-field v-model=\"columnDefs[1].headerName\" type=\"text\" placeholder=\"id\"></v-text-field>\r\n        <v-file-input id=\"file\" v-model=\"file\" @change=\"handleFile\" />\r\n        <v-btn @click=\"render\">\r\n            submit\r\n        </v-btn>\r\n        <div v-if=\"fetchColumnDefs.length>0\">\r\n            <ag-grid\r\n                :columnDefs=\"fetchColumnDefs\"\r\n                :rawData=\"rawData\"\r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { read, utils } from 'xlsx';\r\nimport { AgGridVue } from \"ag-grid-vue\";\r\nexport default {\r\n    created() {\r\n        if (!(this.$store.state.user.user.userInfo.orgChart == 'superUser' || this.$store.state.user.user.userInfo.orgChart == 'staff')) {\r\n            this.$router.push('/')\r\n        }\r\n    },\r\n    components:{\r\n        'ag-grid': AgGridVue\r\n    }, \r\n    data() {\r\n        return {\r\n            columnDefs:[\r\n                {\r\n                    headerName:\"\",\r\n                    field:\"userNameDisplay\"\r\n                },\r\n                {\r\n                    headerName:\"\",\r\n                    field:\"id\"\r\n                }\r\n            ],\r\n            rawData: [],\r\n            file: undefined,\r\n            fetchColumnDefs: []\r\n        }\r\n    },\r\n    methods: {\r\n        render() {\r\n\r\n        },\r\n        async handleFile(e) {\r\n            let file = await e.arrayBuffer()\r\n            const wb = read(file)\r\n            const data = utils.sheet_to_json(wb.Sheets[wb.SheetNames[0]])\r\n            this.rawData = data\r\n            this.translateRawData()\r\n        },\r\n        translateRawData() {\r\n            // let rawData =[]\r\n            let columnDefs = []\r\n            let headerName = []\r\n            this.rawData.map(e => {\r\n                console.log(Object.keys(e))\r\n                headerName = [...new Set(headerName.concat(Object.keys(e)))]\r\n                // concat(result, Object.keys(e))\r\n                console.log(headerName)\r\n            })\r\n            headerName.map(field => {\r\n                columnDefs.push({\r\n                    field: field,\r\n                    headerName: field\r\n                })\r\n            })\r\n            this.fetchColumnDefs = columnDefs\r\n        }\r\n    },\r\n    computed: {\r\n        columndefsclone() {\r\n            return [\r\n                { headerName: \"Make\", field: \"make\" },\r\n                { headerName: \"Model\", field: \"model\" },\r\n                { headerName: \"Price\", field: \"price\" },\r\n            ]\r\n        },\r\n        rawDataClone() {\r\n            return [\r\n                { make: \"Toyota\", model: \"Celica\", price: 35000 },\r\n                { make: \"Ford\", model: \"Mondeo\", price: 32000 },\r\n                { make: \"Porsche\", model: \"Boxster\", price: 72000 },\r\n            ]\r\n        }\r\n        // fetchColumnDef() {\r\n        //     // let columnDefs = []\r\n        //     this.rawData.map(raw => {\r\n        //         Object.keys(raw)\r\n        //     })\r\n        //     return []\r\n        // }\r\n\r\n    }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}